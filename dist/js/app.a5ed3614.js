(function(e){function t(t){for(var a,r,i=t[0],c=t[1],l=t[2],u=0,b=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&b.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(b.length)b.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},s=[];function r(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-8daa1a06":"b6152dc8"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=r(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,n[1](l)}o[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"194d":function(e,t,n){},2:function(e,t){},"2cc1":function(e,t,n){"use strict";n("534e")},"534e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o=n("b85c"),s=(n("b0c0"),n("d3b7"),n("ddb0"),n("5502")),r=Object(s["a"])({state:function(){return{url:"http://localhost;8000",username:"admin",password:"",status:"not logged in",socket:null,region:"",bucket:"",userPoolId:"",clientId:"",identityPoolId:"",websocket_api:"",idToken:"",credentials:null,toastId:"liveToast",toastMessage:"",clipboard:"",input:{name:"input",input_rows:[{id:"myselect",type:"select",label:"AWS Action",options:[{text:"List S3 Objects",value:"ListObjectsCommand"},{text:"Upload File",value:"UploadFile"}]}],values:{myselect:"ListObjectsCommand"}},output:{name:"output",text:"My test output text..."},inputLogin:{input_rows:[{id:"username",label:"Username"},{id:"password",label:"Password",type:"password"}],values:{username:"admin",password:""}},inputS3Upload:{name:"inputS3Upload",input_rows:[{id:"s3fileupload",type:"file",label:"S3 Upload",information:"Pick a file that you want to upload to a predefined S3 bucket"}],values:{s3fileupload:null}}}},mutations:{setStatus:function(e,t){e.status=t},setState:function(e,t){if(!((null===t||void 0===t?void 0:t.name)in e))return console.log("No name: ".concat(t.name," found!"));e[t.name]=t.value?t.value:null},setInput:function(e,t){if(t.name){e.input.name=t.name,e.input.input_rows=t.input_rows?t.input_rows:[],e.input.values={};var n,a=Object(o["a"])(t.input_rows);try{for(a.s();!(n=a.n()).done;){var s=n.value;e.input.values[s.id]=s.value?s.value:""}}catch(r){a.e(r)}finally{a.f()}}else e.input={name:null,input_rows:[],values:{}}},setOutput:function(e,t){t.name?(e.output.name=t.name?t.name:"output",e.output.text=t.text?t.text:""):e.output={name:null,text:""}},setInputValue:function(e,t){if(!e[t.name])return console.log("No input name ".concat(t.name," found!"));e[t.name].values||(e[t.name].values={}),e[t.name].values[t.id]=t.value},setInputRows:function(e,t){if(!e[t.name])return console.log("No input name ".concat(t.name," found!"));var n=e[t.name];n.input_rows=t.input_rows,n.values||(n.values={});var a,s=Object(o["a"])(n.input_rows);try{for(s.s();!(a=s.n()).done;){var r=a.value;n.values[r.id]||(n.values[r.id]=r.value)}}catch(i){s.e(i)}finally{s.f()}},setOutputText:function(e,t){if(!e[t.name])return console.log("No output name ".concat(t.name," found!"));e[t.name].text=t.text}}}),i=r,c={id:"app",class:"d-flex flex-column p-0"},l={class:"toast-container position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},u={id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},d={class:"toast-header"},b=Object(a["f"])("strong",{class:"me-auto"},"Information:",-1),p=Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),f={class:"toast-body"};function m(e,t,n,o,s,r){var i=Object(a["p"])("Header"),m=(Object(a["p"])("InputForm"),Object(a["p"])("Output"),Object(a["p"])("S3Files"));return Object(a["j"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",c,[Object(a["g"])(i),(e.$store.state.credentials,Object(a["d"])("",!0)),(e.$store.state.credentials,Object(a["d"])("",!0)),e.$store.state.credentials?(Object(a["j"])(),Object(a["c"])(m,{key:2,name:e.$store.state.inputS3Upload.name,class:"m-2"},null,8,["name"])):Object(a["d"])("",!0)]),Object(a["f"])("div",l,[Object(a["f"])("div",u,[Object(a["f"])("div",d,[b,Object(a["f"])("small",null,Object(a["q"])((new Date).toLocaleTimeString("en-US")),1),p]),Object(a["f"])("div",f,Object(a["q"])(e.$store.state.toastMessage),1)])])],64)}var v=n("1da1"),h=(n("96cf"),{class:"pt-1 pb-1 bg-dark text-white"}),g={class:"d-flex align-items-center justify-content-between"},j={class:"form-floating ms-1"},O=["value"],y=Object(a["f"])("label",{for:"floatingStatus"},"Current Status",-1),w={key:1,type:"button",class:"btn btn-outline-light me-1","data-bs-toggle":"modal","data-bs-target":"#loginModal"},x={class:"modal fade",id:"loginModal",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},$={class:"modal-content"},S=Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title text-dark",id:"loginModalLabel"},"Login"),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body text-dark"},I={class:"modal-footer"};function T(e,t,n,o,s,r){var i=Object(a["p"])("InputForm");return Object(a["j"])(),Object(a["e"])("div",h,[Object(a["f"])("div",g,[Object(a["f"])("div",j,[Object(a["f"])("input",{readonly:"",type:"text",class:"form-control bg-dark text-white",id:"floatingStatus",placeholder:"Status",value:e.$store.state.status},null,8,O),y]),Object(a["f"])("div",null,[e.$store.state.idToken?(Object(a["j"])(),Object(a["e"])("button",{key:0,type:"button",class:"btn btn-outline-light me-1",onClick:t[0]||(t[0]=function(e){return r.logout()})},"Logout ")):(Object(a["j"])(),Object(a["e"])("button",w,"Login "))])]),Object(a["f"])("div",x,[Object(a["f"])("div",k,[Object(a["f"])("div",$,[S,Object(a["f"])("div",C,[Object(a["g"])(i,{name:s.name},null,8,["name"])]),Object(a["f"])("div",I,[Object(a["f"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(){return r.login&&r.login.apply(r,arguments)})},"Login")])])])])])}var M=n("ade3"),_=(n("99af"),{class:"p-0"}),P={key:0,class:"w-100"},R={class:"d-flex flex-grow-1"},L={class:"d-flex flex-column justify-content-between"},U=["for"],B=["for"],E=["title"],A=Object(a["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16"},[Object(a["f"])("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(a["f"])("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1),K=[A],F={class:"d-flex flex-column justify-content-between w-100"},D=["name","id","value"],N=["value"],q=["name","id","type"],z=["name","id","value","placeholder"],J=["name","id","value","type","placeholder"],H={class:"d-flex justify-content-end m-1"},W={key:1,class:"alert alert-danger w-100",role:"alert"};function V(e,t,n,o,s,r){return Object(a["j"])(),Object(a["e"])("div",_,[n.name&&r.inputs.length?(Object(a["j"])(),Object(a["e"])("div",P,[Object(a["f"])("div",null,[Object(a["o"])(e.$slots,"header")]),Object(a["f"])("div",R,[Object(a["f"])("div",L,[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(r.inputs,(function(e){return Object(a["j"])(),Object(a["e"])("div",{key:e.id,class:"m-1 d-flex justify-content-end"},["textarea"==e.type?(Object(a["j"])(),Object(a["e"])("label",{key:0,class:"m-1 float-right text-nowrap",style:Object(a["i"])(e.style),for:e.id},Object(a["q"])(e.label),13,U)):(Object(a["j"])(),Object(a["e"])("label",{key:1,class:"m-1 float-right text-nowrap",for:e.id},Object(a["q"])(e.label),9,B)),Object(a["f"])("span",{class:"m-1 float-right","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.information},K,8,E)])})),128))]),Object(a["f"])("div",F,[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(r.inputs,(function(e){return Object(a["j"])(),Object(a["e"])("div",{key:e.id,class:"m-1"},["select"==e.type?(Object(a["j"])(),Object(a["e"])("select",{key:0,class:"form-select",name:e.id,id:n.name+e.id,value:r.config.values[e.id],onChange:t[0]||(t[0]=function(){return r.inputChange&&r.inputChange.apply(r,arguments)}),"aria-label":"select-input"},[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(e.options,(function(e){return Object(a["j"])(),Object(a["e"])("option",{key:e.text,value:e.value},Object(a["q"])(e.text),9,N)})),128))],40,D)):"file"==e.type?(Object(a["j"])(),Object(a["e"])("input",{key:1,class:"form-control",name:e.id,id:n.name+e.id,type:e.type,onChange:t[1]||(t[1]=function(){return r.inputChange&&r.inputChange.apply(r,arguments)})},null,40,q)):"textarea"==e.type?(Object(a["j"])(),Object(a["e"])("textarea",{key:2,class:"form-control",style:Object(a["i"])(e.style),name:e.id,id:n.name+e.id,value:r.config.values[e.id],onChange:t[2]||(t[2]=function(){return r.inputChange&&r.inputChange.apply(r,arguments)}),placeholder:e.placeholder},"\n                    ",44,z)):(Object(a["j"])(),Object(a["e"])("input",{key:3,class:"form-control",name:e.id,id:n.name+e.id,value:r.config.values[e.id],onChange:t[3]||(t[3]=function(){return r.inputChange&&r.inputChange.apply(r,arguments)}),onClick:t[4]||(t[4]=function(){return r.inputClick&&r.inputClick.apply(r,arguments)}),type:e.type,placeholder:e.placeholder},null,40,J))])})),128))])]),Object(a["f"])("div",H,[Object(a["o"])(e.$slots,"footer")])])):(Object(a["j"])(),Object(a["e"])("div",W,[Object(a["f"])("p",null,Object(a["q"])(s.error_msg),1)]))])}n("d81d"),n("4de4");var G={name:"InputForm",props:{name:String},data:function(){return{values:{},buffers:{},error_msg:"Form configuration is not available"}},computed:{config:function(){return this.$store.state[this.name]},inputs:function(){var e,t,n=(null===(e=this.config)||void 0===e||null===(t=e.input_rows)||void 0===t?void 0:t.length)>=0?this.config:{input_rows:[]};if(null!==n&&void 0!==n&&n.input_rows){var a=n.input_rows.filter((function(e){return e.id})).map((function(e){return{id:e.id,options:e.options,label:e.label?e.label:e.id,type:e.type?e.type:"text",placeholder:e.placeholder?e.placeholder:"",information:e.information?e.information:"",class:"checkbox"==e.type?"form-check-input checkbox-inline":"form-control",style:"textarea"==e.type?"resize: none;height: 100px":null}}));return a}return[]}},methods:{inputClick:function(e){var t;"file"==(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.type)&&(e.target.value="")},inputChange:function(e){var t,n,a=[];a=null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&null!==(n=t.files)&&void 0!==n&&n.length?{name:this.name,id:e.target.name,value:e.target.files}:{name:this.name,id:e.target.name,value:e.target.value},this.$store.commit("setInputValue",a)}},mounted:function(){console.log("Mounted Input:",this.name)}},Q=n("d959"),X=n.n(Q);const Y=X()(G,[["render",V]]);var Z=Y,ee=n("8265"),te=n("311b"),ne=n("4c44"),ae={name:"Headers",components:{InputForm:Z},data:function(){return{name:"inputLogin"}},computed:{count:function(){return this.$store.state.count}},methods:{logout:function(){window.location.reload()},login:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,r,i,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$store,n=this.$store.state[this.name].values,t.commit("setState",{name:"username",value:n.username}),t.commit("setState",{name:"password",value:n.password}),a=t.state.username,o=t.state.password,s=t.state.region,r=t.state.userPoolId,i=t.state.clientId,c=t.state.identityPoolId,l=new ne.AuthenticationDetails({Username:a,Password:o}),u=new ne.CognitoUserPool({UserPoolId:r,ClientId:i}),d=new ne.CognitoUser({Username:a,Pool:u}),d.authenticateUser(l,{onSuccess:function(e){var n=e.idToken.jwtToken,a=Object(te["a"])({client:new ee["a"]({region:s}),identityPoolId:c,logins:Object(M["a"])({},"cognito-idp.".concat(s,".amazonaws.com/").concat(r),n)});t.commit("setState",{name:"idToken",value:n}),t.commit("setState",{name:"credentials",value:a}),t.commit("setState",{name:"status",value:"Logged in"})},onFailure:function(e){t.commit("setState",{name:"idToken",value:""}),t.commit("setState",{name:"credentials",value:null}),t.commit("setState",{name:"status",value:"Login failed"}),console.log(e)}});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("Mounted: Header ")}};const oe=X()(ae,[["render",T]]);var se=oe,re=(n("ac1f"),n("841c"),function(e){return Object(a["l"])("data-v-99c560f2"),e=e(),Object(a["k"])(),e}),ie={id:"right-main-column",class:"d-flex flex-column flex-grow-1 overflow-auto"},ce={class:"d-flex flex-column flex-fill"},le={class:"d-flex"},ue={class:"btn-group mr-3"},de=re((function(){return Object(a["f"])("i",{class:"bi-save2"},null,-1)})),be=[de],pe=re((function(){return Object(a["f"])("i",{class:"bi-x-circle"},null,-1)})),fe=[pe],me=re((function(){return Object(a["f"])("i",{class:"bi bi-funnel"},null,-1)})),ve=[me],he=re((function(){return Object(a["f"])("i",{class:"bi bi-search"},null,-1)})),ge=[he],je={class:"row row-cols-lg-auto g-3 align-items-center"},Oe={class:"col-12"},ye={class:"input-group"},we=re((function(){return Object(a["f"])("div",{class:"input-group-append"},null,-1)})),xe=["value"];function ke(e,t,n,o,s,r){return Object(a["j"])(),Object(a["e"])("div",ie,[Object(a["f"])("div",ce,[Object(a["f"])("div",le,[Object(a["f"])("div",ue,[Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:t[0]||(t[0]=function(){return r.save&&r.save.apply(r,arguments)}),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Save"},be),Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:t[1]||(t[1]=function(){return r.deleteOutput&&r.deleteOutput.apply(r,arguments)}),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Delete"},fe),Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:t[2]||(t[2]=function(){return r.selectText&&r.selectText.apply(r,arguments)}),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Filter"},ve),Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:t[3]||(t[3]=function(){return r.selectText&&r.selectText.apply(r,arguments)}),"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Search"},ge)]),Object(a["f"])("form",je,[Object(a["f"])("div",Oe,[Object(a["f"])("div",ye,[Object(a["v"])(Object(a["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.search=t}),type:"text",class:"form-control ms-1",placeholder:"Search","aria-label":"Searcg","aria-describedby":"Search"},null,512),[[a["r"],e.search]]),we])])])]),Object(a["v"])(Object(a["f"])("textarea",{class:"mt-1 d-flex flex-grow-1 h-100 form-control terminal text-white bg-dark",id:"TextAreaOutput",rows:"10",value:r.output,onChange:t[5]||(t[5]=function(){return r.outputChange&&r.outputChange.apply(r,arguments)})},"\n        ",40,xe),[[a["s"],e.$store.state[n.name].text.length>0]])])])}var $e=n("21a6"),Se={name:"Output",props:{name:String},data:function(){return{search:""}},computed:{output:function(){var e,t;return null!==(e=this.$store.state[this.name])&&void 0!==e&&e.text?null===(t=this.$store.state[this.name])||void 0===t?void 0:t.text:""}},methods:{deleteOutput:function(){var e={name:this.name,text:""};this.$store.commit("setOutputText",e),console.log("DELETED",this.name)},outputChange:function(e){var t={name:this.name,text:e.target.value};console.log(t),this.$store.commit("setOutputText",t)},selectText:function(){var e=this.search,t=this.$store.state[this.name].text,n=t.search(e);if(n>=0&&e.length){var a=document.getElementById("TextAreaOutput");a.focus(),a.setSelectionRange(n,n+e.length)}},save:function(){var e=new Blob([this.$store.state[this.name].text],{type:"text/plain;charset=utf-8"});Object($e["saveAs"])(e,this.name+".txt")}},mounted:function(){console.log("Mounted Output:",this.name)}};n("68b4");const Ce=X()(Se,[["render",ke],["__scopeId","data-v-99c560f2"]]);var Ie=Ce,Te=function(e){return Object(a["l"])("data-v-d8f414be"),e=e(),Object(a["k"])(),e},Me={id:"right-main-column",class:"d-flex flex-column flex-grow-1 overflow-auto"},_e={class:"d-flex flex-column"},Pe=Te((function(){return Object(a["f"])("button",{class:"btn btn-primary me-1","data-bs-toggle":"modal","data-bs-target":"#clipboardModal"},"Clipboard",-1)})),Re={class:"d-flex flex-column flex-fill"},Le={class:"table"},Ue=Te((function(){return Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",{scope:"col"},"Key"),Object(a["f"])("th",{scope:"col"},"Size"),Object(a["f"])("th",{scope:"col"},"Last Modified"),Object(a["f"])("th",{scope:"col"},"Expire on"),Object(a["f"])("th",{scope:"col"},"Action")])],-1)})),Be=["onClick"],Ee={class:"btn-group"},Ae=["onClick"],Ke=Te((function(){return Object(a["f"])("i",{class:"bi-trash-fill"},null,-1)})),Fe=[Ke],De=["onClick"],Ne=Te((function(){return Object(a["f"])("i",{class:"bi-pen-fill"},null,-1)})),qe=[Ne],ze={class:"modal fade",id:"clipboardModal",tabindex:"-1","aria-labelledby":"clipboardModalLabel","aria-hidden":"true"},Je={class:"modal-dialog"},He={class:"modal-content"},We=Te((function(){return Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title text-dark",id:"clipboardModalLabel"},"Clipboard"),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),Ve={class:"modal-body text-dark"},Ge=Te((function(){return Object(a["f"])("div",{class:"modal-footer"},[Object(a["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close")],-1)}));function Qe(e,t,n,o,s,r){var i=Object(a["p"])("InputForm");return Object(a["j"])(),Object(a["e"])("div",Me,[Object(a["f"])("div",_e,[e.$store.state.credentials?(Object(a["j"])(),Object(a["c"])(i,{key:0,name:e.$store.state.inputS3Upload.name,class:"border border-2 rounded-3 p-2 d-flex overflow-auto"},{footer:Object(a["u"])((function(){return[Pe,Object(a["f"])("button",{class:"btn btn-primary me-1",onClick:t[0]||(t[0]=function(e){return r.listObjects()})},"Refresh"),Object(a["f"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return r.upload()})},"Upload")]})),_:1},8,["name"])):Object(a["d"])("",!0)]),Object(a["f"])("div",Re,[Object(a["f"])("table",Le,[Ue,Object(a["f"])("tbody",null,[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(e.buckets,(function(e){return Object(a["j"])(),Object(a["e"])("tr",{key:e.Key},[Object(a["f"])("td",null,[Object(a["f"])("a",{href:"#",onClick:function(t){return r.download(e.Key)}},Object(a["q"])(e.Key),9,Be)]),Object(a["f"])("td",null,Object(a["q"])(e.Size),1),Object(a["f"])("td",null,Object(a["q"])(e.LastModified),1),Object(a["f"])("td",null,Object(a["q"])(e.expireDate),1),Object(a["f"])("td",null,[Object(a["f"])("div",Ee,[Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:function(t){return r.deleteKey(e.Key)},"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Delete"},Fe,8,Ae),Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:function(t){return r.GetSignedUrl(e.Key)},"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Pre-signed URL to clipboard"},qe,8,De)])])])})),128))])])]),Object(a["f"])("div",ze,[Object(a["f"])("div",Je,[Object(a["f"])("div",He,[We,Object(a["f"])("div",Ve,[Object(a["v"])(Object(a["f"])("textarea",{class:"form-control",name:"clipboardTextarea",id:"clipboardTextarea",cols:"30",rows:"10","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$store.state.clipboard=t})},null,512),[[a["r"],e.$store.state.clipboard]])]),Ge])])])])}n("1276");var Xe=n("f071"),Ye=n("6160"),Ze=n("3f67"),et=n("4968"),tt=n("b223"),nt=n("01c7"),at=n("bd58"),ot=n("2230"),st=n("7b17"),rt=n("7e3c"),it={name:"S3Files",components:{InputForm:Z},props:{name:String},data:function(){return{search:"",buckets:[]}},computed:{output:function(){var e,t;return null!==(e=this.$store.state[this.name])&&void 0!==e&&e.text?null===(t=this.$store.state[this.name])||void 0===t?void 0:t.text:""}},methods:{test:function(){console.log("test")},GetSignedUrl:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Ye["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=4,Object(nt["a"])(n,a,{expiresIn:3600});case 4:o=e.sent,navigator.clipboard.writeText(o),console.log(o),s=new st["a"](document.getElementById("liveToast")),this.$store.state.toastMessage="Pre-signed URL for ".concat(t," copied to clipboard."),s.show();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteKey:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new st["a"](document.getElementById("liveToast")),a=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),o={Bucket:this.$store.state.bucket,Key:t},e.prev=3,e.next=6,a.send(new Ze["a"](o));case 6:return e.next=8,this.listObjects();case 8:this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](3),this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.abrupt("return",alert("There was an error deleting ".concat(t,": "),e.t0.message));case 17:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}(),getClipboard:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",e.prev=1,n=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Ye["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=6,n.send(a);case 6:return o=e.sent,e.next=9,o.Body.getReader();case 9:return s=e.sent,e.next=12,s.read();case 12:r=e.sent,console.log((new TextDecoder).decode(r.value)),this.$store.state.clipboard=(new TextDecoder).decode(r.value),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](1),this.$store.state.clipboard="",console.log("Clipboard get failed",e.t0),this.saveClipboard();case 22:case"end":return e.stop()}}),e,this,[[1,17]])})));function t(){return e.apply(this,arguments)}return t}(),saveClipboard:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",n={Bucket:this.$store.state.bucket,Key:t,Body:this.$store.state.clipboard},e.prev=2,a=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=6,a.send(new et["a"](n));case 6:return e.next=8,this.listObjects();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.abrupt("return",alert("There was an error saving the clipboard",e.t0.message));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),upload:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new st["a"](document.getElementById("liveToast")),n=this.$store.state.inputS3Upload.values.s3fileupload,null===n||void 0===n||!n.length){e.next=21;break}return a=n[0],o="files/"+a.name,s={Bucket:this.$store.state.bucket,Key:o,Body:a},e.prev=6,r=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=10,r.send(new et["a"](s));case 10:return this.$store.state.toastMessage="Sucessfully uploaded ".concat(o," file."),t.show(),e.next=14,this.listObjects();case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e["catch"](6),e.abrupt("return",alert("There was an error uploading your file: ",e.t0.message));case 19:e.next=23;break;case 21:this.$store.state.toastMessage="No file selected for upload!",t.show();case 23:case"end":return e.stop()}}),e,this,[[6,16]])})));function t(){return e.apply(this,arguments)}return t}(),download:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,s,r,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new st["a"](document.getElementById("liveToast")),e.prev=1,a=t.split("/").pop(),console.log("Download",a),o=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),s=new Ye["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=8,o.send(s);case 8:return r=e.sent,i=new Response(r.Body,{}),e.next=12,i.blob();case 12:c=e.sent,Object($e["saveAs"])(c,a),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](1),this.$store.state.toastMessage="Download failed!",n.show(),console.log("Error",e.t0);case 21:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t){return e.apply(this,arguments)}return t}(),listObjects:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new st["a"](document.getElementById("liveToast")),n=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new tt["a"]({Bucket:this.$store.state.bucket,Prefix:"files"}),e.abrupt("return",n.send(a).then((function(e){if(e.Contents){o.buckets=e.Contents;for(var t=0;t<o.buckets.length;t++){var n=Object(ot["a"])(o.buckets[t].LastModified,{days:2});n.setUTCHours(0,0,0,0),o.buckets[t].expireDate=n}}else o.buckets=[]})).catch((function(e){o.$store.state.toastMessage="S3 folder refresh failed!",t.show(),o.$store.commit("setOutput",{name:"output",text:JSON.stringify(e.message,null,2)}),console.log("Error",e)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),makeid:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*a));return t}},mounted:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o,s,r,i,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Mounted:",this.name),this.listObjects(),t=this.$store,n="",e.prev=4,e.next=7,t.state.credentials();case 7:a=e.sent,o=t.state.websocket_api,s={access_key:a.accessKeyId,secret_key:a.secretAccessKey,session_token:a.sessionToken},n=at["a"].signUrl(o,s),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log(e.t0);case 16:r=new rt["w3cwebsocket"](n),i=this.makeid(5),c=t.state.clipboard,l=!1,u=null,r.onopen=function(){u=setInterval((function(){if(c!=t.state.clipboard&&!l){c=t.state.clipboard;var e={localWsId:i,message:c},n=JSON.stringify({action:"sendmessage",data:JSON.stringify(e)});r.send(n)}}),1e3)},r.onclose=function(e){console.log("WebSocket is closed now.",e),clearInterval(u)},r.onerror=function(e){console.log("WebSocket error:",e),clearInterval(u)},r.onmessage=function(e){var n=JSON.parse(e.data);n.localWsId!=i&&(l=!0,c=n.message,t.state.clipboard=n.message,l=!1)};case 25:case"end":return e.stop()}}),e,this,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}()};n("6044");const ct=X()(it,[["render",Qe],["__scopeId","data-v-d8f414be"]]);var lt=ct,ut={name:"App",components:{InputForm:Z,Output:Ie,Header:se,S3Files:lt},data:function(){return{url:window.location.href,toastMessage:"",testinput:{name:"input",input_rows:[{id:"user"},{id:"pass",type:"password"},{id:"textbox1",type:"textarea"},{id:"myselect",type:"select",options:[{text:"One",value:"1"},{text:"Two",value:"2"}]},{id:"file1",type:"file"}],values:{user:"admin",pass:"password",textbox1:"Here's my input text...",myselect:"1"}}}},methods:{submit:function(){var e=this,t=new st["a"](document.getElementById("liveToast"));this.$store.state.toastMessage="Submit pushed",t.show();var n=new Xe["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new tt["a"]({Bucket:"548266769309"});n.send(a).then((function(t){e.$store.commit("setOutput",{name:"output",text:JSON.stringify(t,null,2)}),console.log("Success",t)})).catch((function(t){e.$store.commit("setOutput",{name:"output",text:JSON.stringify(t.message,null,2)}),console.log("Error",t)}))}},mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,t.next=7;break;case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,fetch("awsconfig.json").then((function(e){return e.text()}));case 9:t.t0=t.sent;case 10:n=t.t0,a=JSON.parse(n),e.$store.commit("setState",{name:"region",value:a.region}),e.$store.commit("setState",{name:"bucket",value:a.bucket}),e.$store.commit("setState",{name:"userPoolId",value:a.userPoolId}),e.$store.commit("setState",{name:"clientId",value:a.clientId}),e.$store.commit("setState",{name:"identityPoolId",value:a.identityPoolId}),e.$store.commit("setState",{name:"websocket_api",value:a.websocket_api}),console.log("Mounted: App"),t.next=25;break;case 21:t.prev=21,t.t1=t["catch"](0),console.log("App failed to download valid 'awsconfig.json' file!"),console.log(t.t1);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()}};n("2cc1");const dt=X()(ut,[["render",m]]);var bt=dt,pt=(n("ab8b"),Object(a["b"])(bt));pt.use(i),pt.mount("#app")},6044:function(e,t,n){"use strict";n("647d")},"647d":function(e,t,n){},"68b4":function(e,t,n){"use strict";n("194d")}});