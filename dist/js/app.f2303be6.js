(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-8daa1a00":"6925d511"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=o(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;s.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0889":function(e,t,n){"use strict";n("2862")},1:function(e,t,n){e.exports=n("56d7")},"16c0":function(e,t,n){},2:function(e,t){},2862:function(e,t,n){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r=n("b85c"),s=(n("b0c0"),n("d3b7"),n("ddb0"),n("5502")),o=Object(s["a"])({state:function(){return{url:"http://localhost;8000",username:"admin",password:"",status:"not logged in",socket:null,region:"",bucket:"",userPoolId:"",clientId:"",identityPoolId:"",websocket_api:"",idToken:"",credentials:null,toastId:"liveToast",toastMessage:"",clipboard:"",uploadPartSize:"5242880",uploadPercent:"0",input:{name:"input",input_rows:[{id:"myselect",type:"select",label:"AWS Action",options:[{text:"List S3 Objects",value:"ListObjectsCommand"},{text:"Upload File",value:"UploadFile"}]}],values:{myselect:"ListObjectsCommand"}},output:{name:"output",text:"My test output text..."},inputLogin:{input_rows:[{id:"username",label:"Username"},{id:"password",label:"Password",type:"password"}],values:{username:"admin",password:""}},inputS3Upload:{name:"inputS3Upload",input_rows:[{id:"s3fileupload",type:"file",label:"S3 Upload",information:"Pick a file that you want to upload to a predefined S3 bucket"}],values:{s3fileupload:null}},visible:{navDownload:!0,navUpload:!1,navClipboard:!1,navSettings:!1}}},mutations:{setStatus:function(e,t){e.status=t},setState:function(e,t){if(!((null===t||void 0===t?void 0:t.name)in e))return console.log("No name: ".concat(t.name," found!"));e[t.name]=t.value?t.value:null},setInput:function(e,t){if(t.name){e.input.name=t.name,e.input.input_rows=t.input_rows?t.input_rows:[],e.input.values={};var n,a=Object(r["a"])(t.input_rows);try{for(a.s();!(n=a.n()).done;){var s=n.value;e.input.values[s.id]=s.value?s.value:""}}catch(o){a.e(o)}finally{a.f()}}else e.input={name:null,input_rows:[],values:{}}},setOutput:function(e,t){t.name?(e.output.name=t.name?t.name:"output",e.output.text=t.text?t.text:""):e.output={name:null,text:""}},setInputValue:function(e,t){if(!e[t.name])return console.log("No input name ".concat(t.name," found!"));e[t.name].values||(e[t.name].values={}),e[t.name].values[t.id]=t.value},setInputRows:function(e,t){if(!e[t.name])return console.log("No input name ".concat(t.name," found!"));var n=e[t.name];n.input_rows=t.input_rows,n.values||(n.values={});var a,s=Object(r["a"])(n.input_rows);try{for(s.s();!(a=s.n()).done;){var o=a.value;n.values[o.id]||(n.values[o.id]=o.value)}}catch(i){s.e(i)}finally{s.f()}},setOutputText:function(e,t){if(!e[t.name])return console.log("No output name ".concat(t.name," found!"));e[t.name].text=t.text}}}),i=o,c={id:"app",class:"d-flex flex-column p-0"};function l(e,t,n,r,s,o){var i=Object(a["q"])("Header"),l=Object(a["q"])("S3Files"),u=Object(a["q"])("ToastMessage");return Object(a["k"])(),Object(a["e"])("div",c,[Object(a["h"])(i),e.$store.state.credentials?(Object(a["k"])(),Object(a["c"])(l,{key:0,name:"S3Files",class:"m-2"})):Object(a["d"])("",!0),Object(a["h"])(u)])}var u=n("1da1"),d=(n("96cf"),{class:"pt-1 pb-1 bg-dark text-white"}),p={class:"d-flex align-items-center justify-content-between"},b={class:"form-floating ms-1"},f=["value"],m=Object(a["f"])("label",{for:"floatingStatus"},"Current Status",-1),h={key:1,type:"button",class:"btn btn-outline-light me-1","data-bs-toggle":"modal","data-bs-target":"#loginModal"},g={class:"modal fade",id:"loginModal",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},v={class:"modal-dialog"},w={class:"modal-content"},O=Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title text-dark",id:"loginModalLabel"},"Login"),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),y={class:"modal-body text-dark"},j={class:"modal-footer"};function k(e,t,n,r,s,o){var i=Object(a["q"])("InputForm");return Object(a["k"])(),Object(a["e"])("div",d,[Object(a["f"])("div",p,[Object(a["f"])("div",b,[Object(a["f"])("input",{readonly:"",type:"text",class:"form-control bg-dark text-white",id:"floatingStatus",placeholder:"Status",value:e.$store.state.status},null,8,f),m]),Object(a["f"])("div",null,[e.$store.state.idToken?(Object(a["k"])(),Object(a["e"])("button",{key:0,type:"button",class:"btn btn-outline-light me-1",onClick:t[0]||(t[0]=function(e){return o.logout()})},"Logout ")):(Object(a["k"])(),Object(a["e"])("button",h,"Login "))])]),Object(a["f"])("div",g,[Object(a["f"])("div",v,[Object(a["f"])("div",w,[O,Object(a["f"])("div",y,[Object(a["h"])(i,{name:s.name},null,8,["name"])]),Object(a["f"])("div",j,[Object(a["f"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=function(){return o.login&&o.login.apply(o,arguments)})},"Login")])])])])])}var x=n("ade3"),$=(n("99af"),{class:"p-0"}),S={key:0,class:"w-100"},M={class:"d-flex flex-grow-1"},R={class:"d-flex flex-column justify-content-between"},C=["for"],I=["for"],B=["title"],U=Object(a["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16"},[Object(a["f"])("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(a["f"])("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1),T=[U],K={class:"d-flex flex-column justify-content-between w-100"},P=["name","id","value"],_=["value"],E=["name","id","type"],L=["name","id","value","placeholder"],D=["name","id","value","type","placeholder"],N={class:"d-flex justify-content-end m-1"},F={key:1,class:"alert alert-danger w-100",role:"alert"};function A(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("div",$,[n.name&&o.inputs.length?(Object(a["k"])(),Object(a["e"])("div",S,[Object(a["f"])("div",null,[Object(a["p"])(e.$slots,"header")]),Object(a["f"])("div",M,[Object(a["f"])("div",R,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["o"])(o.inputs,(function(e){return Object(a["k"])(),Object(a["e"])("div",{key:e.id,class:"m-1 d-flex justify-content-end"},["textarea"==e.type?(Object(a["k"])(),Object(a["e"])("label",{key:0,class:"m-1 float-right text-nowrap",style:Object(a["j"])(e.style),for:e.id},Object(a["r"])(e.label),13,C)):(Object(a["k"])(),Object(a["e"])("label",{key:1,class:"m-1 float-right text-nowrap",for:e.id},Object(a["r"])(e.label),9,I)),Object(a["f"])("span",{class:"m-1 float-right","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.information},T,8,B)])})),128))]),Object(a["f"])("div",K,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["o"])(o.inputs,(function(e){return Object(a["k"])(),Object(a["e"])("div",{key:e.id,class:"m-1"},["select"==e.type?(Object(a["k"])(),Object(a["e"])("select",{key:0,class:"form-select",name:e.id,id:n.name+e.id,value:o.config.values[e.id],onChange:t[0]||(t[0]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)}),"aria-label":"select-input"},[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["o"])(e.options,(function(e){return Object(a["k"])(),Object(a["e"])("option",{key:e.text,value:e.value},Object(a["r"])(e.text),9,_)})),128))],40,P)):"file"==e.type?(Object(a["k"])(),Object(a["e"])("input",{key:1,class:"form-control",name:e.id,id:n.name+e.id,type:e.type,onChange:t[1]||(t[1]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)})},null,40,E)):"textarea"==e.type?(Object(a["k"])(),Object(a["e"])("textarea",{key:2,class:"form-control",style:Object(a["j"])(e.style),name:e.id,id:n.name+e.id,value:o.config.values[e.id],onChange:t[2]||(t[2]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)}),placeholder:e.placeholder},"\r\n                    ",44,L)):(Object(a["k"])(),Object(a["e"])("input",{key:3,class:"form-control",name:e.id,id:n.name+e.id,value:o.config.values[e.id],onChange:t[3]||(t[3]=function(){return o.inputChange&&o.inputChange.apply(o,arguments)}),onClick:t[4]||(t[4]=function(){return o.inputClick&&o.inputClick.apply(o,arguments)}),type:e.type,placeholder:e.placeholder},null,40,D))])})),128))])]),Object(a["f"])("div",N,[Object(a["p"])(e.$slots,"footer")])])):(Object(a["k"])(),Object(a["e"])("div",F,[Object(a["f"])("p",null,Object(a["r"])(s.error_msg),1)]))])}n("d81d"),n("4de4");var z={name:"InputForm",props:{name:String},data:function(){return{values:{},buffers:{},error_msg:"Form configuration is not available"}},computed:{config:function(){return this.$store.state[this.name]},inputs:function(){var e,t,n=(null===(e=this.config)||void 0===e||null===(t=e.input_rows)||void 0===t?void 0:t.length)>=0?this.config:{input_rows:[]};if(null!==n&&void 0!==n&&n.input_rows){var a=n.input_rows.filter((function(e){return e.id})).map((function(e){return{id:e.id,options:e.options,label:e.label?e.label:e.id,type:e.type?e.type:"text",placeholder:e.placeholder?e.placeholder:"",information:e.information?e.information:"",class:"checkbox"==e.type?"form-check-input checkbox-inline":"form-control",style:"textarea"==e.type?"resize: none;height: 100px":null}}));return a}return[]}},methods:{inputClick:function(e){var t;"file"==(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.type)&&(e.target.value="")},inputChange:function(e){var t,n,a=[];a=null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&null!==(n=t.files)&&void 0!==n&&n.length?{name:this.name,id:e.target.name,value:e.target.files}:{name:this.name,id:e.target.name,value:e.target.value},this.$store.commit("setInputValue",a)}},mounted:function(){console.log("Mounted Input:",this.name)}},W=n("d959"),q=n.n(W);const H=q()(z,[["render",A]]);var J=H,V=n("8265"),G=n("311b"),Q=n("4c44"),X={name:"Headers",components:{InputForm:J},data:function(){return{name:"inputLogin"}},computed:{count:function(){return this.$store.state.count}},methods:{logout:function(){window.location.reload()},login:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o,i,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$store,n=this.$store.state[this.name].values,t.commit("setState",{name:"username",value:n.username}),t.commit("setState",{name:"password",value:n.password}),a=t.state.username,r=t.state.password,s=t.state.region,o=t.state.userPoolId,i=t.state.clientId,c=t.state.identityPoolId,l=new Q.AuthenticationDetails({Username:a,Password:r}),u=new Q.CognitoUserPool({UserPoolId:o,ClientId:i}),d=new Q.CognitoUser({Username:a,Pool:u}),d.authenticateUser(l,{onSuccess:function(e){var n=e.idToken.jwtToken,a=Object(G["a"])({client:new V["a"]({region:s}),identityPoolId:c,logins:Object(x["a"])({},"cognito-idp.".concat(s,".amazonaws.com/").concat(o),n)});t.commit("setState",{name:"idToken",value:n}),t.commit("setState",{name:"credentials",value:a}),t.commit("setState",{name:"status",value:"Logged in"})},onFailure:function(e){t.commit("setState",{name:"idToken",value:""}),t.commit("setState",{name:"credentials",value:null}),t.commit("setState",{name:"status",value:"Login failed"}),console.log(e)}});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("Mounted: Header ")}};const Y=q()(X,[["render",k]]);var Z=Y,ee=function(e){return Object(a["m"])("data-v-4c823556"),e=e(),Object(a["l"])(),e},te={id:"right-main-column",class:"d-flex flex-column flex-grow-1 overflow-auto"},ne=ee((function(){return Object(a["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1)}));function ae(e,t,n,r,s,o){var i=Object(a["q"])("NavBar"),c=Object(a["q"])("Upload"),l=Object(a["q"])("Download"),u=Object(a["q"])("Clipboard"),d=Object(a["q"])("ModalMessage");return Object(a["k"])(),Object(a["e"])("div",te,[Object(a["h"])(i),e.$store.state.visible.navUpload?(Object(a["k"])(),Object(a["c"])(c,{key:0})):Object(a["d"])("",!0),e.$store.state.visible.navDownload?(Object(a["k"])(),Object(a["c"])(l,{key:1})):Object(a["d"])("",!0),e.$store.state.visible.navClipboard?(Object(a["k"])(),Object(a["c"])(u,{key:2})):Object(a["d"])("",!0),Object(a["h"])(d,{title:e.modalTitle,message:e.modalMessage},{footer:Object(a["v"])((function(){return[Object(a["f"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return o.deleteMultipartUploads&&o.deleteMultipartUploads.apply(o,arguments)})},"Delete"),ne]})),_:1},8,["title","message"])])}n("b680"),n("25f0"),n("ac1f"),n("1276"),n("a15b");var re={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},se={class:"modal-dialog"},oe={class:"modal-content"},ie={class:"modal-header"},ce={class:"modal-title",id:"exampleModalLabel"},le=Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ue={class:"modal-body"},de={class:"modal-footer"},pe=Object(a["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),be=Object(a["f"])("button",{type:"button",class:"btn btn-primary"},"Save changes",-1);function fe(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("div",re,[Object(a["f"])("div",se,[Object(a["f"])("div",oe,[Object(a["f"])("div",ie,[Object(a["f"])("h5",ce,Object(a["r"])(n.title),1),le]),Object(a["f"])("div",ue,[Object(a["f"])("pre",null,Object(a["r"])(n.message),1)]),Object(a["f"])("div",de,[Object(a["p"])(e.$slots,"footer",{},(function(){return[pe,be]}))])])])])}var me={name:"ModalMessage",props:{name:{type:String,default:"ModalMessage"},title:{type:String,default:"Alert"},message:{type:String,default:"This is a modal message"}},data:function(){return{values:{},buffers:{},error_msg:"Form configuration is not available"}},computed:{config:function(){return this.$store.state[this.name]}},methods:{inputClick:function(e){var t;"file"==(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.type)&&(e.target.value="")}},mounted:function(){console.log("Mounted:",this.name)}};const he=q()(me,[["render",fe]]);var ge=he,ve={class:"nav nav-tabs"},we={class:"nav-item"},Oe={class:"nav-item"},ye={class:"nav-item"},je={class:"nav-item"};function ke(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("ul",ve,[Object(a["f"])("li",we,[Object(a["f"])("button",{id:"navDownload",class:"nav-link active","aria-current":"page",onClick:t[0]||(t[0]=function(e){return o.navToggle("navDownload")})},"Download")]),Object(a["f"])("li",Oe,[Object(a["f"])("button",{id:"navUpload",class:"nav-link","aria-current":"page",onClick:t[1]||(t[1]=function(e){return o.navToggle("navUpload")})},"Upload")]),Object(a["f"])("li",ye,[Object(a["f"])("button",{id:"navClipboard",class:"nav-link","aria-current":"page",onClick:t[2]||(t[2]=function(e){return o.navToggle("navClipboard")})},"Clipboard")]),Object(a["w"])(Object(a["f"])("li",je,[Object(a["f"])("button",{id:"navSettings",class:"nav-link","aria-current":"page",onClick:t[3]||(t[3]=function(e){return o.navToggle("navSettings")})},"Settings")],512),[[a["t"],!1]])])}var xe={name:"NavBar",components:{},data:function(){return{name:"NavBar"}},computed:{store:function(){return this.$store}},methods:{navToggle:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=JSON.parse(JSON.stringify(this.$store.state.visible)),document.getElementById("navDownload").classList.remove("active"),document.getElementById("navUpload").classList.remove("active"),document.getElementById("navClipboard").classList.remove("active"),document.getElementById("navSettings").classList.remove("active"),n.navDownload=!1,n.navUpload=!1,n.navClipboard=!1,n.navSettings=!1,"navDownload"==t&&(document.getElementById("navDownload").classList.add("active"),n.navDownload=!0),"navUpload"==t&&(document.getElementById("navUpload").classList.add("active"),n.navUpload=!0),"navClipboard"==t&&(document.getElementById("navClipboard").classList.add("active"),n.navClipboard=!0),"navSettings"==t&&(document.getElementById("navSettings").classList.add("active"),n.navSettings=!0),this.$store.commit("setState",{name:"visible",value:n});case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){console.log("Mounted: NavBar ")}};const $e=q()(xe,[["render",ke]]);var Se=$e,Me={class:"d-flex flex-column flex-fill"};function Re(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("div",Me,[Object(a["w"])(Object(a["f"])("textarea",{class:"form-control d-flex flex-fill",name:"clipboardTextarea",id:"clipboardTextarea",cols:"30",rows:"10","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$store.state.clipboard=t})},null,512),[[a["s"],e.$store.state.clipboard]])])}var Ce=n("7e3c"),Ie=n("bd58"),Be=n("7b17"),Ue=n("f071"),Te=n("6160"),Ke=n("3f67"),Pe=n("4968"),_e=n("01c7");function Ee(e){return Le.apply(this,arguments)}function Le(){return Le=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Ue["a"]({region:i.state.region,credentials:i.state.credentials}),a=new Te["a"]({Bucket:i.state.bucket,Key:t}),e.next=4,Object(_e["a"])(n,a,{expiresIn:3600});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Le.apply(this,arguments)}function De(e){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Ue["a"]({region:i.state.region,credentials:i.state.credentials}),a={Bucket:i.state.bucket,Key:t},e.prev=2,e.next=5,n.send(new Ke["a"](a));case 5:Fe("Sucessfully deleted ".concat(t,".")),e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](2),console.log(e.t0),e.abrupt("return",alert("There was an error deleting ".concat(t,": ")));case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),Ne.apply(this,arguments)}function Fe(e){var t=new Be["b"](document.getElementById("liveToast"));i.state.toastMessage=e,t.show()}function Ae(e){i.commit("setState",{name:"status",value:e})}var ze={name:"Clipboard",components:{},data:function(){return{name:"Clipboard",awsWebSocket:null,localWebSocketId:null}},computed:{store:function(){return this.$store}},methods:{test:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Clipboard Test1");case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),makeid:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,o,i,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Mounted: Clipboard"),n=e.$store,a="",t.prev=3,t.next=6,n.state.credentials();case 6:r=t.sent,s=n.state.websocket_api,o={access_key:r.accessKeyId,secret_key:r.secretAccessKey,session_token:r.sessionToken},a=Ie["a"].signUrl(s,o),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:e.awsWebSocket=new Ce["w3cwebsocket"](a),i=e.awsWebSocket,e.localWebSocketId=e.makeid(5),c=e.localWebSocketId,l=n.state.clipboard,u=!1,d=null,i.onopen=function(){console.log("WebSocket is open now:",c),Ae("WebSocket open"),d=setInterval((function(){if(l!=n.state.clipboard&&!u){l=n.state.clipboard;var e={localWsId:c,message:l},t=JSON.stringify({action:"sendmessage",data:JSON.stringify(e)});i.send(t)}}),1e3)},i.onclose=function(){Ae("WebSocket closed"),console.log("WebSocket is closed now:",c),clearInterval(d)},i.onerror=function(e){Ae("WebSocket error"),console.log("WebSocket error:",e),clearInterval(d)},i.onmessage=function(e){var t=JSON.parse(e.data);t.localWsId!=c&&(u=!0,l=t.message,n.state.clipboard=t.message,u=!1)};case 26:case"end":return t.stop()}}),t,null,[[3,12]])})))()},unmounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.awsWebSocket.close();case 1:case"end":return t.stop()}}),t)})))()}};const We=q()(ze,[["render",Re]]);var qe=We,He=function(e){return Object(a["m"])("data-v-48ad9296"),e=e(),Object(a["l"])(),e},Je={class:"d-flex flex-column flex-fill"},Ve={class:"table"},Ge=He((function(){return Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",{scope:"col"},"File"),Object(a["f"])("th",{scope:"col"},"Size"),Object(a["f"])("th",{scope:"col",class:"d-none d-md-table-cell"},"Last Modified"),Object(a["f"])("th",{scope:"col",class:"d-none d-sm-table-cell"},"Expire on"),Object(a["f"])("th",{scope:"col"},"Action")])],-1)})),Qe=["onClick"],Xe={class:"d-none d-md-table-cell"},Ye={class:"d-none d-sm-table-cell"},Ze={class:"btn-group"},et=["onClick"],tt=He((function(){return Object(a["f"])("i",{class:"bi-trash-fill"},null,-1)})),nt=[tt],at=["onClick"],rt=He((function(){return Object(a["f"])("i",{class:"bi-pen-fill"},null,-1)})),st=[rt];function ot(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("div",Je,[Object(a["f"])("table",Ve,[Ge,Object(a["f"])("tbody",null,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["o"])(e.buckets,(function(e){return Object(a["k"])(),Object(a["e"])("tr",{key:e.Key},[Object(a["f"])("td",null,[Object(a["f"])("a",{href:"#",onClick:function(t){return o.download(e.Key)}},Object(a["r"])(e.Key.split("/").pop()),9,Qe)]),Object(a["f"])("td",null,Object(a["r"])(e.Size),1),Object(a["f"])("td",Xe,Object(a["r"])(e.LastModified),1),Object(a["f"])("td",Ye,Object(a["r"])(e.expireDate),1),Object(a["f"])("td",null,[Object(a["f"])("div",Ze,[Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:function(t){return o.deleteFile(e.Key)},"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Delete"},nt,8,et),Object(a["f"])("button",{type:"button",class:"btn btn-small btn-outline-secondary",onClick:function(t){return o.signedURL(e.Key)},"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Pre-signed URL to clipboard"},st,8,at)])])])})),128))])])])}var it=n("b223"),ct=n("2230"),lt={name:"Download",components:{},props:{name:{type:String,default:"Download"}},data:function(){return{buckets:[]}},computed:{output:function(){var e,t;return null!==(e=this.$store.state[this.name])&&void 0!==e&&e.text?null===(t=this.$store.state[this.name])||void 0===t?void 0:t.text:""}},methods:{test:function(){console.log("test")},signedURL:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ee(t);case 2:n=e.sent,navigator.clipboard.writeText(n),this.$store.state.clipboard=n,Fe("Pre-signed URL for ".concat(t," copied to clipboard."));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteFile:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:return e.next=4,this.listObjects();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),download:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee(t);case 3:n=e.sent,a=t.split("/").pop(),console.log("Download",a),r=document.createElement("a"),r.href=n,r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log("Error",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));function t(t){return e.apply(this,arguments)}return t}(),listObjects:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Be["b"](document.getElementById("liveToast")),n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new it["a"]({Bucket:this.$store.state.bucket,Prefix:"files"}),e.abrupt("return",n.send(a).then((function(e){if(e.Contents){r.buckets=e.Contents;for(var t=0;t<r.buckets.length;t++){var n=Object(ct["a"])(r.buckets[t].LastModified,{days:2});n.setUTCHours(0,0,0,0),r.buckets[t].expireDate=n}}else r.buckets=[]})).catch((function(e){r.$store.state.toastMessage="S3 folder refresh failed!",t.show(),r.$store.commit("setOutput",{name:"output",text:JSON.stringify(e.message,null,2)}),console.log("Error",e)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Mounted:",this.name),this.listObjects();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()};n("69d9");const ut=q()(lt,[["render",ot],["__scopeId","data-v-48ad9296"]]);var dt=ut,pt={class:"d-flex flex-column"},bt={key:0,class:"d-flex justify-content-center"},ft={class:"h3"},mt={key:1,class:"progress"},ht=["aria-valuenow"],gt={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},vt=Object(a["g"])("Upload");function wt(e,t,n,r,s,o){var i=Object(a["q"])("InputForm");return Object(a["k"])(),Object(a["e"])("div",pt,[e.uploadOngoing?(Object(a["k"])(),Object(a["e"])("div",bt,[Object(a["f"])("div",null,[Object(a["f"])("span",ft," Uploading: "+Object(a["r"])(e.$store.state.uploadPercent)+"% Complete",1)])])):Object(a["d"])("",!0),e.uploadOngoing?(Object(a["k"])(),Object(a["e"])("div",mt,[Object(a["f"])("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":e.$store.state.uploadPercent,"aria-valuemin":"0","aria-valuemax":"100",style:Object(a["j"])("width: "+e.$store.state.uploadPercent+"%")},Object(a["r"])(e.$store.state.uploadPercent)+"%",13,ht)])):Object(a["d"])("",!0),e.$store.state.credentials&&!e.uploadOngoing?(Object(a["k"])(),Object(a["c"])(i,{key:2,name:e.$store.state.inputS3Upload.name,class:"border border-2 rounded-3 p-2 d-flex overflow-auto"},{footer:Object(a["v"])((function(){return[Object(a["f"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){return o.uploadMulti()})},[e.uploadOngoing?(Object(a["k"])(),Object(a["e"])("span",gt)):Object(a["d"])("",!0),vt])]})),_:1},8,["name"])):Object(a["d"])("",!0)])}var Ot=n("d933"),yt=n("4db2"),jt=n("5cf4"),kt=n("c7fe"),xt=n("21a6"),$t={name:"Upload",components:{InputForm:J},props:{name:{type:String,default:"Upload"}},data:function(){return{search:"",buckets:[],uploadOngoing:!1}},computed:{output:function(){var e,t;return null!==(e=this.$store.state[this.name])&&void 0!==e&&e.text?null===(t=this.$store.state[this.name])||void 0===t?void 0:t.text:""}},methods:{test:function(){console.log("test")},GetSignedUrl:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=4,Object(_e["a"])(n,a,{expiresIn:3600});case 4:r=e.sent,navigator.clipboard.writeText(r),this.$store.state.clipboard=r,console.log(r),s=new Be["b"](document.getElementById("liveToast")),this.$store.state.toastMessage="Pre-signed URL for ".concat(t," copied to clipboard."),s.show();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteKey:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Be["b"](document.getElementById("liveToast")),a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),r={Bucket:this.$store.state.bucket,Key:t},e.prev=3,e.next=6,a.send(new Ke["a"](r));case 6:return e.next=8,this.listObjects();case 8:this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](3),this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.abrupt("return",alert("There was an error deleting ".concat(t,": "),e.t0.message));case 17:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}(),getClipboard:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",e.prev=1,n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=6,n.send(a);case 6:return r=e.sent,e.next=9,r.Body.getReader();case 9:return s=e.sent,e.next=12,s.read();case 12:o=e.sent,console.log((new TextDecoder).decode(o.value)),this.$store.state.clipboard=(new TextDecoder).decode(o.value),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](1),this.$store.state.clipboard="",console.log("Clipboard get failed",e.t0),this.saveClipboard();case 22:case"end":return e.stop()}}),e,this,[[1,17]])})));function t(){return e.apply(this,arguments)}return t}(),saveClipboard:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",n={Bucket:this.$store.state.bucket,Key:t,Body:this.$store.state.clipboard},e.prev=2,a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=6,a.send(new Pe["a"](n));case 6:return e.next=8,this.listObjects();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.abrupt("return",alert("There was an error saving the clipboard",e.t0.message));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),upload:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new Be["b"](document.getElementById("liveToast")),n=this.$store.state.inputS3Upload.values.s3fileupload,null===n||void 0===n||!n.length){e.next=23;break}return this.uploadOngoing=!0,a=n[0],r="files/"+a.name,s={Bucket:this.$store.state.bucket,Key:r,Body:a},e.prev=7,o=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=11,o.send(new Pe["a"](s));case 11:return this.$store.state.toastMessage="Sucessfully uploaded ".concat(r," file."),t.show(),e.next=15,this.listObjects();case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](7),e.abrupt("return",alert("There was an error uploading your file: ",e.t0.message));case 20:this.uploadOngoing=!1,e.next=25;break;case 23:this.$store.state.toastMessage="No file selected for upload!",t.show();case 25:case"end":return e.stop()}}),e,this,[[7,17]])})));function t(){return e.apply(this,arguments)}return t}(),uploadMulti:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o,i,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store,n=new Be["b"](document.getElementById("liveToast")),a=this.$store.state.inputS3Upload.values.s3fileupload,null===a||void 0===a||!a.length){e.next=26;break}return this.uploadOngoing=!0,r=a[0],s="files/"+r.name,o={Bucket:this.$store.state.bucket,Key:s,Body:r},e.prev=8,this.$store.commit("setState",{name:"uploadPercent",value:"0"}),i=new kt["a"]({client:new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),queueSize:2,partSize:t.state.uploadPartSize,leavePartsOnError:!1,params:o}),i.on("httpUploadProgress",(function(e){var t=(e.loaded/e.total*100).toFixed(2);100!=t?(c.$store.commit("setStatus","Uploading: ".concat(t,"%")),c.$store.commit("setState",{name:"uploadPercent",value:t.toString()})):(c.$store.commit("setStatus","Upload Complete"),c.$store.commit("setState",{name:"uploadPercent",value:"100"}))})),e.next=14,i.done();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](8),console.log(e.t0);case 19:return this.uploadOngoing=!1,this.$store.state.toastMessage="Sucessfully uploaded ".concat(s," file."),n.show(),e.next=24,this.listObjects();case 24:e.next=28;break;case 26:this.$store.state.toastMessage="No file selected for upload!",n.show();case 28:case"end":return e.stop()}}),e,this,[[8,16]])})));function t(){return e.apply(this,arguments)}return t}(),download:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Be["b"](document.getElementById("liveToast")),e.prev=1,a=t.split("/").pop(),console.log("Download",a),r=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),s=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=8,r.send(s);case 8:return o=e.sent,i=new Response(o.Body,{}),e.next=12,i.blob();case 12:c=e.sent,Object(xt["saveAs"])(c,a),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](1),this.$store.state.toastMessage="Download failed!",n.show(),console.log("Error",e.t0);case 21:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t){return e.apply(this,arguments)}return t}(),listMultipart:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),n=new Ot["a"]({Bucket:this.$store.state.bucket}),e.next=4,t.send(n);case 4:return a=e.sent,e.abrupt("return",a.Uploads);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listMultipartKey:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),r=new yt["a"]({Bucket:this.$store.state.bucket,Key:t,UploadId:n}),e.next=4,a.send(r);case 4:return s=e.sent,console.log(s),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),uploadMultiResume:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o,i,c,l,u,d,p,b,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store,n=t.state.inputS3Upload.values.s3fileupload,null===n||void 0===n||!n.length){e.next=31;break}return a=n[0],r="files/"+a.name,s={Bucket:this.$store.state.bucket,Key:r,Body:a},o=null,e.next=9,this.listMultipart();case 9:for(i=e.sent,c=0;c<i.length;c++)l=i[c],l.Key==s.Key?(console.log("MATCH",l.Key),o=l.UploadId):console.log("NOMATCH",l.Key);return console.log(o),e.next=14,this.listMultipartKey(s.Key,o);case 14:return u=e.sent,d={Body:s.Body,Bucket:s.Bucket,Key:s.Key,Partnumber:u.NextPartNumberMarker,UploadId:u.UploadId},console.log(d),e.prev=17,p=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),b=new jt["a"]({Body:d}),e.next=22,p.send(b);case 22:f=e.sent,console.log(f),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](17),console.log(e.t0);case 29:e.next=32;break;case 31:this.$store.state.toastMessage="No file selected for upload!";case 32:case"end":return e.stop()}}),e,this,[[17,26]])})));function t(){return e.apply(this,arguments)}return t}(),listObjects:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Be["b"](document.getElementById("liveToast")),n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new it["a"]({Bucket:this.$store.state.bucket,Prefix:"files"}),e.abrupt("return",n.send(a).then((function(e){if(e.Contents){r.buckets=e.Contents;for(var t=0;t<r.buckets.length;t++){var n=Object(ct["a"])(r.buckets[t].LastModified,{days:2});n.setUTCHours(0,0,0,0),r.buckets[t].expireDate=n}}else r.buckets=[]})).catch((function(e){r.$store.state.toastMessage="S3 folder refresh failed!",t.show(),r.$store.commit("setOutput",{name:"output",text:JSON.stringify(e.message,null,2)}),console.log("Error",e)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Mounted:",this.name);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()};n("0889");const St=q()($t,[["render",wt],["__scopeId","data-v-2554a8ee"]]);var Mt=St,Rt=n("7d1c"),Ct={name:"S3Files",components:{ModalMessage:ge,NavBar:Se,Clipboard:qe,Download:dt,Upload:Mt},props:{name:{type:String,default:"S3Files"}},data:function(){return{search:"",myModal:null,buckets:[],uploadOngoing:!1,modalTitle:"Init Title...",modalMessage:"Init Message..."}},computed:{output:function(){var e,t;return null!==(e=this.$store.state[this.name])&&void 0!==e&&e.text?null===(t=this.$store.state[this.name])||void 0===t?void 0:t.text:""}},methods:{test:function(){console.log("test")},checkExistingMultipartUploads:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.listMultipart();case 2:if(t=e.sent,n=[],!((null===t||void 0===t?void 0:t.length)>0)){e.next=16;break}a=0;case 6:if(!(a<t.length)){e.next=16;break}return r=t[a],e.next=10,this.listMultipartKey(r.Key,r.UploadId);case 10:s=e.sent,n.push(r.Key),console.log("Existing multi-part upload in progress found:",s.Key);case 13:a++,e.next=6;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteMultipartUploads:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.listMultipart();case 2:if(t=e.sent,!((null===t||void 0===t?void 0:t.length)>0)){e.next=21;break}n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=0;case 6:if(!(a<t.length)){e.next=21;break}return r=t[a],console.log("Delete Progress:",r.Key),s={Bucket:this.$store.state.bucket,Key:r.Key,UploadId:r.UploadId},e.prev=10,e.next=13,n.send(new Rt["a"](s));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](10),console.log("Multipart delete failed!\n",e.t0);case 18:a++,e.next=6;break;case 21:this.myModal.hide();case 22:case"end":return e.stop()}}),e,this,[[10,15]])})));function t(){return e.apply(this,arguments)}return t}(),GetSignedUrl:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=4,Object(_e["a"])(n,a,{expiresIn:3600});case 4:r=e.sent,navigator.clipboard.writeText(r),this.$store.state.clipboard=r,console.log(r),s=new Be["b"](document.getElementById("liveToast")),this.$store.state.toastMessage="Pre-signed URL for ".concat(t," copied to clipboard."),s.show();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteKey:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Be["b"](document.getElementById("liveToast")),a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),r={Bucket:this.$store.state.bucket,Key:t},e.prev=3,e.next=6,a.send(new Ke["a"](r));case 6:return e.next=8,this.listObjects();case 8:this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.next=17;break;case 12:return e.prev=12,e.t0=e["catch"](3),this.$store.state.toastMessage="Sucessfully deleted ".concat(t,"."),n.show(),e.abrupt("return",alert("There was an error deleting ".concat(t,": "),e.t0.message));case 17:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(t){return e.apply(this,arguments)}return t}(),getClipboard:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",e.prev=1,n=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),a=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=6,n.send(a);case 6:return r=e.sent,e.next=9,r.Body.getReader();case 9:return s=e.sent,e.next=12,s.read();case 12:o=e.sent,console.log((new TextDecoder).decode(o.value)),this.$store.state.clipboard=(new TextDecoder).decode(o.value),e.next=22;break;case 17:e.prev=17,e.t0=e["catch"](1),this.$store.state.clipboard="",console.log("Clipboard get failed",e.t0),this.saveClipboard();case 22:case"end":return e.stop()}}),e,this,[[1,17]])})));function t(){return e.apply(this,arguments)}return t}(),saveClipboard:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="files/clipboard.txt",n={Bucket:this.$store.state.bucket,Key:t,Body:this.$store.state.clipboard},e.prev=2,a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=6,a.send(new Pe["a"](n));case 6:return e.next=8,this.listObjects();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.abrupt("return",alert("There was an error saving the clipboard",e.t0.message));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),upload:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new Be["b"](document.getElementById("liveToast")),n=this.$store.state.inputS3Upload.values.s3fileupload,null===n||void 0===n||!n.length){e.next=23;break}return this.uploadOngoing=!0,a=n[0],r="files/"+a.name,s={Bucket:this.$store.state.bucket,Key:r,Body:a},e.prev=7,o=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),e.next=11,o.send(new Pe["a"](s));case 11:return this.$store.state.toastMessage="Sucessfully uploaded ".concat(r," file."),t.show(),e.next=15,this.listObjects();case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](7),e.abrupt("return",alert("There was an error uploading your file: ",e.t0.message));case 20:this.uploadOngoing=!1,e.next=25;break;case 23:this.$store.state.toastMessage="No file selected for upload!",t.show();case 25:case"end":return e.stop()}}),e,this,[[7,17]])})));function t(){return e.apply(this,arguments)}return t}(),uploadMulti:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o,i,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store,n=new Be["b"](document.getElementById("liveToast")),a=this.$store.state.inputS3Upload.values.s3fileupload,null===a||void 0===a||!a.length){e.next=26;break}return this.uploadOngoing=!0,r=a[0],s="files/"+r.name,o={Bucket:this.$store.state.bucket,Key:s,Body:r},e.prev=8,this.$store.commit("setState",{name:"uploadPercent",value:"0"}),i=new kt["a"]({client:new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),queueSize:2,partSize:t.state.uploadPartSize,leavePartsOnError:!1,params:o}),i.on("httpUploadProgress",(function(e){var t=(e.loaded/e.total*100).toFixed(2);100!=t?(c.$store.commit("setStatus","Uploading: ".concat(t,"%")),c.$store.commit("setState",{name:"uploadPercent",value:t.toString()})):(c.$store.commit("setStatus","Upload Complete"),c.$store.commit("setState",{name:"uploadPercent",value:"100"}))})),e.next=14,i.done();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](8),console.log(e.t0);case 19:return this.uploadOngoing=!1,this.$store.state.toastMessage="Sucessfully uploaded ".concat(s," file."),n.show(),e.next=24,this.listObjects();case 24:e.next=28;break;case 26:this.$store.state.toastMessage="No file selected for upload!",n.show();case 28:case"end":return e.stop()}}),e,this,[[8,16]])})));function t(){return e.apply(this,arguments)}return t}(),download:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Be["b"](document.getElementById("liveToast")),e.prev=1,a=t.split("/").pop(),console.log("Download",a),r=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),s=new Te["a"]({Bucket:this.$store.state.bucket,Key:t}),e.next=8,r.send(s);case 8:return o=e.sent,i=new Response(o.Body,{}),e.next=12,i.blob();case 12:c=e.sent,Object(xt["saveAs"])(c,a),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](1),this.$store.state.toastMessage="Download failed!",n.show(),console.log("Error",e.t0);case 21:case"end":return e.stop()}}),e,this,[[1,16]])})));function t(t){return e.apply(this,arguments)}return t}(),listMultipart:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),n=new Ot["a"]({Bucket:this.$store.state.bucket}),e.next=4,t.send(n);case 4:return a=e.sent,e.abrupt("return",a.Uploads);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),listMultipartKey:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),r=new yt["a"]({Bucket:this.$store.state.bucket,Key:t,UploadId:n}),e.next=4,a.send(r);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),uploadMultiResume:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,s,o,i,c,l,u,d,p,b,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store,n=t.state.inputS3Upload.values.s3fileupload,null===n||void 0===n||!n.length){e.next=31;break}return a=n[0],r="files/"+a.name,s={Bucket:this.$store.state.bucket,Key:r,Body:a},o=null,e.next=9,this.listMultipart();case 9:for(i=e.sent,c=0;c<i.length;c++)l=i[c],l.Key==s.Key?(console.log("MATCH",l.Key),o=l.UploadId):console.log("NOMATCH",l.Key);return console.log(o),e.next=14,this.listMultipartKey(s.Key,o);case 14:return u=e.sent,d={Body:s.Body,Bucket:s.Bucket,Key:s.Key,Partnumber:u.NextPartNumberMarker,UploadId:u.UploadId},console.log(d),e.prev=17,p=new Ue["a"]({region:this.$store.state.region,credentials:this.$store.state.credentials}),b=new jt["a"]({Body:d}),e.next=22,p.send(b);case 22:f=e.sent,console.log(f),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](17),console.log(e.t0);case 29:e.next=32;break;case 31:this.$store.state.toastMessage="No file selected for upload!";case 32:case"end":return e.stop()}}),e,this,[[17,26]])})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Mounted:",this.name),e.next=3,this.checkExistingMultipartUploads();case 3:t=e.sent,t.length>0&&(this.modalTitle="Existing multi-part upload parts found!",this.modalMessage=t.join("\n"),this.myModal=new Be["a"](document.getElementById("exampleModal")),this.myModal.show());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()};n("639d");const It=q()(Ct,[["render",ae],["__scopeId","data-v-4c823556"]]);var Bt=It,Ut={class:"toast-container position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},Tt={id:"liveToast",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},Kt={class:"toast-header"},Pt=Object(a["f"])("strong",{class:"me-auto"},"Information:",-1),_t=Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),Et={class:"toast-body"};function Lt(e,t,n,r,s,o){return Object(a["k"])(),Object(a["e"])("div",Ut,[Object(a["f"])("div",Tt,[Object(a["f"])("div",Kt,[Pt,Object(a["f"])("small",null,Object(a["r"])((new Date).toLocaleTimeString("en-US")),1),_t]),Object(a["f"])("div",Et,Object(a["r"])(e.$store.state.toastMessage),1)])])}var Dt={name:"ToastMessage",props:{name:{type:String,default:"ToastMessage"}},data:function(){return{values:{}}},computed:{config:function(){return this.$store.state[this.name]}},methods:{},mounted:function(){console.log("Mounted:",this.name)}};const Nt=q()(Dt,[["render",Lt]]);var Ft=Nt,At={name:"App",components:{Header:Z,S3Files:Bt,ToastMessage:Ft},data:function(){return{url:window.location.href,testinput:{name:"input",input_rows:[{id:"user"},{id:"pass",type:"password"},{id:"textbox1",type:"textarea"},{id:"myselect",type:"select",options:[{text:"One",value:"1"},{text:"Two",value:"2"}]},{id:"file1",type:"file"}],values:{user:"admin",pass:"password",textbox1:"Here's my input text...",myselect:"1"}}}},methods:{},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,t.next=7;break;case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,fetch("awsconfig.json").then((function(e){return e.text()}));case 9:t.t0=t.sent;case 10:n=t.t0,a=JSON.parse(n),e.$store.commit("setState",{name:"region",value:a.region}),e.$store.commit("setState",{name:"bucket",value:a.bucket}),e.$store.commit("setState",{name:"userPoolId",value:a.userPoolId}),e.$store.commit("setState",{name:"clientId",value:a.clientId}),e.$store.commit("setState",{name:"identityPoolId",value:a.identityPoolId}),e.$store.commit("setState",{name:"websocket_api",value:a.websocket_api}),console.log("Mounted: App"),t.next=25;break;case 21:t.prev=21,t.t1=t["catch"](0),console.log("App failed to download valid 'awsconfig.json' file!"),console.log(t.t1);case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()}};n("b098");const zt=q()(At,[["render",l]]);var Wt=zt,qt=(n("ab8b"),Object(a["b"])(Wt));qt.use(i),qt.mount("#app")},"639d":function(e,t,n){"use strict";n("16c0")},"69d9":function(e,t,n){"use strict";n("ba5c")},b098:function(e,t,n){"use strict";n("ed98")},ba5c:function(e,t,n){},ed98:function(e,t,n){}});